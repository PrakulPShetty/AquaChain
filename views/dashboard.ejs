<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Smart Irrigation Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-900">

  <!-- Navbar -->
  <nav class="fixed top-0 left-0 w-full bg-white shadow-md z-10">
    <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center">
      <div class="flex items-center">
        <span class="text-green-700 text-xl font-bold tracking-wide">ðŸŒ± Smart Irrigation</span>
      </div>
      <div class="space-x-6 text-sm font-medium">
        
        <a href="/login" class="text-red-600 hover:text-red-700">Logout</a>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="pt-20 max-w-6xl mx-auto p-6 space-y-8">

    <!-- Welcome -->
    <h2 class="text-2xl font-semibold text-gray-800">Welcome, <%= username %> ðŸ‘‹</h2>

    <!-- Section A: Live Sensor Data -->
    <section>
      <h3 class="text-lg font-semibold text-gray-700 mb-4">Live Sensor Data</h3>
      <div class="grid grid-cols-1 sm:grid-cols-3 gap-6">
        
        <!-- Soil Moisture -->
        <div class="bg-white p-6 rounded-xl shadow text-center">
          <p class="text-4xl font-bold text-green-700">32%</p>
          <p class="text-gray-600 mt-2">Soil Moisture ðŸŒ±</p>
        </div>

        <!-- Temperature -->
        <div class="bg-white p-6 rounded-xl shadow text-center">
          <p class="text-4xl font-bold text-orange-600">29Â°C</p>
          <p class="text-gray-600 mt-2">Temperature ðŸŒ¡</p>
        </div>

        <!-- Humidity -->
        <div class="bg-white p-6 rounded-xl shadow text-center">
          <p class="text-4xl font-bold text-blue-600">65%</p>
          <p class="text-gray-600 mt-2">Humidity ðŸ’§</p>
        </div>

      </div>
    </section>

    <!-- Section B: Pump Control -->
    <section>
      <h3 class="text-lg font-semibold text-gray-700 mb-4">Pump Control</h3>
      <div class="bg-white p-6 rounded-xl shadow flex flex-col items-center space-y-4">
        <p class="text-gray-700 font-medium">Current Status: 
          <span id="pumpStatus" class="font-bold text-red-600">OFF</span>
        </p>
        <button id="pumpToggle" 
          class="px-6 py-3 rounded-lg text-white font-semibold bg-green-700 hover:bg-green-800 transition">
          Turn ON
        </button>
      </div>
    </section>

    <!-- Section C: Blockchain Logs -->
    <section>
      <h3 class="text-lg font-semibold text-gray-700 mb-4">Blockchain Logs</h3>
      <div class="bg-white p-6 rounded-xl shadow overflow-x-auto">
        <table class="min-w-full border border-gray-200 text-sm text-left">
          <thead class="bg-gray-100">
            <tr>
              <th class="px-4 py-2 border">Tx Hash</th>
              <th class="px-4 py-2 border">Action</th>
              <th class="px-4 py-2 border">Time</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="px-4 py-2 border text-blue-600 hover:underline">
                <a href="https://sepolia.etherscan.io/tx/0x123" target="_blank">0x123â€¦ab</a>
              </td>
              <td class="px-4 py-2 border">Pump ON</td>
              <td class="px-4 py-2 border">10:20 AM</td>
            </tr>
            <tr>
              <td class="px-4 py-2 border text-blue-600 hover:underline">
                <a href="https://sepolia.etherscan.io/tx/0x456" target="_blank">0x456â€¦cd</a>
              </td>
              <td class="px-4 py-2 border">Pump OFF</td>
              <td class="px-4 py-2 border">10:45 AM</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

  </div>

  <!-- JS for Pump Toggle -->
  <script>
    const pumpStatus = document.getElementById("pumpStatus");
    const pumpToggle = document.getElementById("pumpToggle");

    pumpToggle.addEventListener("click", () => {
      if (pumpStatus.textContent === "OFF") {
        pumpStatus.textContent = "ON";
        pumpStatus.classList.remove("text-red-600");
        pumpStatus.classList.add("text-green-600");
        pumpToggle.textContent = "Turn OFF";
        pumpToggle.classList.remove("bg-green-700");
        pumpToggle.classList.add("bg-red-600", "hover:bg-red-700");
      } else {
        pumpStatus.textContent = "OFF";
        pumpStatus.classList.remove("text-green-600");
        pumpStatus.classList.add("text-red-600");
        pumpToggle.textContent = "Turn ON";
        pumpToggle.classList.remove("bg-red-600", "hover:bg-red-700");
        pumpToggle.classList.add("bg-green-700", "hover:bg-green-800");
      }
    });
  </script>

</body>
</html>
